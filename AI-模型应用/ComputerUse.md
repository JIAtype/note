Anthropic 刚刚宣布了计算机应用——一个通过查看屏幕、移动光标、点击按钮和输入文本来实现计算机操作自动化的 
[API](https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/computer-use-tool)。

事实证明，这个 Playground 演示在本地设置起来非常容易。

突破性的新功能：计算机使用。该功能现已通过 API 开放，开发者可以控制 Claude 像人类一样使用计算机——例如查看屏幕、
移动光标、点击按钮和输入文本。 Claude 3.5 Sonnet 是首个在公开测试版中提供计算机使用功能的前沿人工智能模型。
目前，它仍处于实验阶段，有时功能繁琐且容易出错。我们提前发布计算机使用功能以征求开发者的反馈，并期望其功能能够随着时间的推移快速改进。

Asana、Canva、Cognition、DoorDash、Replit 和 The Browser Company 已开始探索这些可能性，
并执行需要数十步甚至数百步才能完成的任务。例如，Replit 正在利用 Claude 3.5 Sonnet 的计算机使用和 UI 导航功能
开发一项关键功能，该功能可在为其 Replit Agent 产品构建应用程序时对其进行评估。

概述

“计算机使用”是一项测试版功能，可帮助 Claude 与桌面环境进行交互。此工具提供以下功能：

屏幕截图：查看当前屏幕显示内容
鼠标控制：点击、拖动和移动光标
键盘输入：输入文本并使用键盘快捷键
桌面自动化：与任何应用程序或界面交互
虽然可以使用 Bash 和文本编辑器等其他工具来增强“计算机使用”功能，以实现更全面的自动化工作流程，但“计算机使用”具体指的是“计算机使用”工具查看和控制桌面环境的功能。

安全问题：
计算机使用是一个测试版功能，具有与标准API功能不同的独特风险。在与互联网交互时，这些风险会加剧。为了最小化风险，请考虑采取以下预防措施：
使用具有最小权限的专用虚拟机或容器，以防止直接系统攻击或意外事故。
避免让模型访问敏感数据，如账户登录信息，以防止信息盗窃。
将互联网访问限制在允许的域名列表内，以减少接触恶意内容的风险。
要求人工确认可能导致有意义的现实世界后果的决定，以及任何需要肯定同意的任务，如接受cookies、执行金融交易或同意服务条款。
在某些情况下，Claude会遵循内容中找到的命令，即使这与用户的指令冲突。例如，网页上的Claude指令或图像中包含的指令可能会覆盖指令或导致Claude犯错。我们建议采取预防措施，将Claude与敏感数据和操作隔离，以避免与提示注入相关的风险。
我们已经训练模型抵制这些提示注入，并添加了额外的防御层。如果您使用我们的计算机使用工具，我们将自动在您的提示上运行分类器，以标记潜在的提示注入实例。当这些分类器在截图中识别出潜在的提示注入时，它们将自动引导模型在继续下一个操作之前要求用户确认。我们认识到这种额外的保护对于每个用例都不是理想的（例如，没有人工参与的用例），所以如果您想选择退出并关闭它，请联系我们。

使用例子：
1. 将一张猫的图片保存到我的桌面。
2. Claude决定使用计算机使用工具。
Claude评估计算机使用工具是否可以帮助处理用户的查询。
如果是，Claude构造一个格式正确的工具使用请求。
API响应的stop_reason为tool_use，表示Claude的意图。
3. 提取工具输入，在计算机上评估工具，并返回结果。
4. Claude继续调用计算机使用工具，直到完成任务。


计算环境
计算机使用需要一个沙盒计算环境，Claude可以在其中安全地与应用程序和Web交互。此环境包括：
虚拟显示：虚拟X11显示服务器（使用Xvfb），渲染Claude将通过截图看到并通过鼠标/键盘操作控制的桌面界面。
桌面环境：在Linux上运行的轻量级UI，带有窗口管理器（Mutter）和面板（Tint2），为Claude提供一致的图形界面进行交互。
应用程序：预安装的Linux应用程序，如Firefox、LibreOffice、文本编辑器和文件管理器，Claude可以使用这些应用程序完成任务。
工具实现：集成代码，将Claude的抽象工具请求（如”移动鼠标”或”截图”）转换为虚拟环境中的实际操作。
代理循环：处理Claude和环境之间通信的程序，将Claude的操作发送到环境并将结果（截图、命令输出）返回给Claude。
当您使用计算机使用时，Claude不会直接连接到此环境。相反，您的应用程序：
接收Claude的工具使用请求
将它们转换为您的计算环境中的操作
捕获结果（截图、命令输出等）
将这些结果返回给Claude
为了安全和隔离，参考实现将所有这些都运行在Docker容器内，并具有适当的端口映射，用于查看和与环境交互。